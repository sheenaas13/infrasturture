{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfraBuild - Projects</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
</head>

<body>
    <header
        style="background: linear-gradient(to right, rgb(28 40 51 / 55%), rgb(28 40 51 / 54%)), url(../static/img/projectsheader) center / cover no-repeat;">
        <div class="topbar">
            <div class="left">
                <span><i class="fas fa-phone"></i> +91 98765-43210</span>
                <span><i class="fas fa-envelope"></i> info@infrabuild.com</span>
            </div>
            <div class="right">
                <a href="{% url 'investors' %}">Investors</a>
                <a href="{% url 'news' %}">News</a>
                <a href="{% url 'events' %}">events</a>
                <a href="{% url 'contact' %}">Contact</a>
                <a href="{% url 'careers' %}">Careers</a>
            </div>
        </div>
        <hr class="nav-hr">

        <div class="navbar">
            <div class="logo">
                <a href="{% url 'home' %}"><img src="../static/img/infralogo.png" alt=""></a>
                InfraBuild
            </div>

            <div class="toggler" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </div>
            <nav id="nav-menu">
                <div class="dropdown">
                    <a href="{% url 'about' %}">About Us <i class="fas fa-caret-down"></i></a>
                    <div class="dropdown-content">
                        <a href="{% url 'company_profile' %}">Company Profile</a>
                        <a href="{% url 'leadership' %}">Leadership</a>
                        <a href="{% url 'eco' %}">Ecosystem Partnership</a>
                        <a href="{% url 'Business_Practice' %}">Business Practice</a>
                        <a href="{% url 'governance' %}">Governance</a>
                        <a href="{% url 'awards' %}">Awards</a>


                        <button class="dropdown-btn" onclick="location.href='about'"> About <i
                                class="fa fa-arrow-right"></i></button>
                    </div>
                </div>
                <a href="{% url 'expertise' %}">Expertise</a>
                <a href="{% url 'projects' %}">Projects</a>
                <a href="{% url 'digital' %}">Digital</a>
                <div class="dropdown">
                    <a href="{% url 'insights' %}">Insights </a>
                    <!-- <div class="dropdown-content">
                        <a href="#blog">Sustainablity & <br> Decarbonisation</a>
                        <a href="#reports">Mobility</a>
                        <a href="#news">Resilience</a>
                        <a href="#news">places</a>

                        <button class="dropdown-btn" onclick="location.href='insights'"> All Insights <i
                                class="fa fa-arrow-right"></i></button>
                    </div> -->
                </div>
                <div class="mobile-topbar">
                    <div class="mobile-links">
                        <a href="{% url 'investors' %}">Investors</a>
                        <a href="{% url 'news' %}">News</a>
                        <a href="{% url 'events' %}">Events</a>
                        <a href="{% url 'contact' %}">Contact</a>
                        <a href="{% url 'careers' %}">Careers</a>
                    </div>
                    <hr>
                    <div class="mobile-contact">
                        <span><i class="fas fa-phone"></i> +91 98765-43210</span>
                        <span><i class="fas fa-envelope"></i> info@infrabuild.com</span>
                    </div>
                </div>
                <a href="#search"><i class="fas fa-magnifying-glass"></i></a>
            </nav>
        </div>

        <div class="header-content">
            <h1 class="typewriter">Five Years of Foundations, <br> a Lifetime of Impact</h1>
            <p>Explore our portfolio of innovative infrastructure solutions, where cutting-edge technology meets
                practical execution. From transportation and energy to urban development, our projects reflect a
                commitment to quality.</p>
        </div>
    </header>

    <section class="project-section1">
        <div class="project-content">
            <h2>Decades of Project Excellence</h2>
            <p>
                Over the years, InfraBuild has delivered a diverse portfolio of projects across infrastructure,
                transportation, energy, and urban development. Our legacy is built on a foundation of technical
                expertise, strategic planning, and a relentless commitment to delivering lasting value to our clients
                and communities.
            </p>
            <p>
                Today, we continue to lead complex projects with innovation and precision, adapting to modern challenges
                while staying true to our core values. With each new venture, InfraBuild reinforces its position as a
                trusted partner in shaping tomorrow’s infrastructure.
            </p>
        </div>
    </section>

    <div class="market-validation" id="progress-section">
        <div class="chart-wrapper">
            <div class="display">
                <div class="info-block">
                    <h4><span class="dot blue"></span>60% Infrastructure</h4>
                    <p>Major share of projects were focused on national and urban infrastructure systems.</p>
                </div>
                <div class="info-block">
                    <h4><span class="dot dark"></span>35% Energy & Transport</h4>
                    <p>Projects covering renewable energy and smart transport integration grew significantly.</p>
                </div>
            </div>
            <div class="chart-center">
                <h3 id="success-count">0%<br />Success</h3>
            </div>
            <div class="display">
                <div class="info-block">
                    <h4><span class="dot gray"></span>5% Others</h4>
                    <p>Projects in specialized sectors like healthcare, mining, and aerospace industries.</p>
                </div>
                <div class="info-block">
                    <h4><span class="dot green"></span>Global Expansion</h4>
                    <p>Growth in international projects helped boost InfraBuild’s global reputation.</p>
                </div>
            </div>
        </div>
    </div>

    <section class="trust-section">
        <div class="trust-container">
            <h2>Building Trust Through <span> Years of Excellence </span></h2>
            <p>
                Over the past five years, InfraBuild has earned the trust of clients, contractors, and industry leaders
                alike.
                Our unwavering commitment to delivering high-quality infrastructure solutions has made us a reliable
                name in the sector.
                Every project reflects our dedication to transparency, innovation, and timely execution.
            </p>
            <p>
                By consistently exceeding expectations and maintaining strong partnerships, we’ve established a legacy
                of trust and performance.
                Our team collaborates closely with stakeholders to ensure aligned goals and measurable outcomes.
                InfraBuild continues to be the preferred choice for both public and private sector projects.
            </p>
            <div class="trust-images">
                <img src="../static/img/Architecture-E.webp" alt="Project Image 1">
                <img src="../static/img/connecthighways-E.webp" alt="Project Image 2">
                <img src="../static/img/building.avif" alt="Project Image 3">
            </div>
        </div>
    </section>

    <section class="projects-section" id="Projects">
        <h2 class="projects-heading">Projects</h2>
        <p class="projects-description">
            Explore some of our featured infrastructure projects that showcase our commitment to innovation, quality,
            and lasting community impact.
        </p>

        <form method="GET" class="search-bar" action="#projects-grid" id="filter-form">

            <button type="button" id="all-projects-btn" class="all-projects-button">All Projects</button>

            <select name="name">
                <option value="">Project Name</option>
                {% for name in project_names %}
                <option value="{{ name }}">{{ name }}</option>
                {% endfor %}
            </select>

            <select name="year">
                <option value="">Year</option>
                {% for year in project_years %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>

            <select name="popular">
                <option value="">Highly Searched</option>
                {% for pop in popular_projects %}
                <option value="{{ pop }}">{{ pop }}</option>
                {% endfor %}
            </select>

            <button type="submit">Search</button>
        </form>


        <div class="projects-grid" id="projects-grid">
            {% for project in proj %}
            <a href="{% url 'project_detail' project.id %}" class="projectpage-link">
                <div class="projectpage-card">
                    <img src="{{ project.image.url }}" alt="{{ project.name }}" class="project-image">
                    <div class="project-content">
                        <p class="project-date">{{ project.start_date|date:"F j, Y" }}</p>
                        <h3 class="project-title">{{ project.name }} <i class="fa fa-arrow-right"></i></h3>
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>

    </section>

    <footer>
        <div class="footer">
            <div class="footer-section">
                <a href="{% url 'home' %}">
                    <h3>InfraBuild</h3>
                </a>
                <p>"Building Tomorrow, <br> Strengthening Today."</p>
                <p>Building sustainable <br>infrastructure solutions <br>that power cities, <br> industries, and lives
                    across <br>the
                    globe. <br>
                    Your vision, our foundation.</p>
            </div>

            <div class="footer-section">
                <h3>Services</h3>
                <ul>
                    <li><a href="{% url 'investors' %}">Investors</a></li>
                    <li><a href="{% url 'news' %}">News</a></li>
                    <li><a href="{% url 'events' %}">Events</a></li>
                    <li><a href="{% url 'contact' %}">Contact</a></li>
                    <li><a href="{% url 'careers' %}">Careers</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Company</h3>
                <ul>
                    <li><a href="{% url 'about' %}">About Us</a></li>
                    <li><a href="{% url 'expertise' %}">Expertise</a></li>
                    <li><a href="{% url 'projects' %}">Projects</a></li>
                    <li><a href="{% url 'digital' %}">Digital</a></li>
                    <li><a href="{% url 'insights' %}">Insights</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contact Us</h3>
                <p><strong>Call:</strong> +0123 456 789 00</p>
                <p><strong>Email:</strong> user@example.com</p>

                <div class="subscribe-box">
                    <input type="email" placeholder="Write Email" />
                    <button>→</button>
                </div>

                <div class="social-icons">
                    <a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer" title="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://twitter.com/" target="_blank" rel="noopener noreferrer" title="Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer" title="LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://wa.me/?text=Check%20this%20out!" target="_blank" rel="noopener noreferrer"
                        title="WhatsApp">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div>
                <a href="{% url 'privacy' %}">Privacy Policy</a>
                <a href="{% url 'about' %}">Our History</a>
                <a href="{% url 'expertise' %}">What We Do</a>
            </div>
            <div>
                © 2025 InfraBuild. All images are for demo purposes only.
            </div>
        </div>
    </footer>

    <script>
        const form = document.getElementById('filter-form');
        const grid = document.querySelector('#projects-grid');

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(form);
            const query = new URLSearchParams(formData).toString();
            history.pushState(null, '', '?' + query + '#projects-grid');

            fetch(window.location.pathname + '?' + query)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newGrid = doc.querySelector('#projects-grid');
                    grid.innerHTML = newGrid.innerHTML;
                });
        });

        // 👇 Handle "All Projects" button the same way
        document.getElementById('all-projects-btn').addEventListener('click', function () {
            history.pushState(null, '', window.location.pathname + '#projects-grid');

            fetch(window.location.pathname)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newGrid = doc.querySelector('#projects-grid');
                    grid.innerHTML = newGrid.innerHTML;

                    // Also clear dropdowns
                    form.querySelectorAll('select').forEach(select => select.value = '');
                });
        });
    </script>



    <script>
        const center = document.querySelector('.chart-center');
        const count = document.getElementById('success-count');
        const targetRate = 95;
        let progress = 0;
        let animationStarted = false;

        function animateProgress() {
            if (progress <= targetRate) {
                center.style.background = `conic-gradient(
          #e37932 0% ${progress * 0.6}%,
          #0f172a ${progress * 0.6}% ${progress * 0.95}%,
          #d1d5db ${progress * 0.95}% 100%
        )`;
                count.innerHTML = `${progress}%<br/>Success`;
                progress++;
                requestAnimationFrame(animateProgress);
            }
        }

        function isInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top <= (window.innerHeight || document.documentElement.clientHeight)
            );
        }

        function handleScroll() {
            const section = document.getElementById('progress-section');
            if (isInViewport(section) && !animationStarted) {
                animationStarted = true;
                animateProgress();
            }
        }

        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', handleScroll);
    </script>

    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>

    <script>
        window.addEventListener("scroll", function () {
            const topbar = document.querySelector(".topbar");
            const navbar = document.querySelector(".navbar");

            if (window.scrollY > 10) {
                topbar.classList.add("scrolled");
                navbar.classList.add("scrolled");
            } else {
                topbar.classList.remove("scrolled");
                navbar.classList.remove("scrolled");
            }
        });
    </script>

    <script>
        function closeMoveBox() {
            document.querySelector('.move-box').style.display = 'none';
        }

        function refreshForm() {
            document.getElementById('projectForm').reset();
            document.getElementById('estimateSection').classList.add('estimate-section2-hidden');
            document.getElementById('formContainer').style.display = 'block';
        }
    </script>


    <script>
        function toggleMenu() {
            document.getElementById("nav-menu").classList.toggle("show");
        }
    </script>

</body>

</html>